<!DOCTYPE html>
<html lang=ko>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width, initial-scale=1.0">
<title>인터랙티브 웨이브 체험 — minimal buttons</title>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/pretendard/1.3.8/static/pretendard.css>
<style>:root{--primary-color:#06c;--bg-color:#fff;--text-color:#333;--panel-bg:rgba(245,245,245,0.9);--transition:all .3s ease;--font-lg:16px;--font-md:14px;--font-sm:12px;--padding-lg:15px 25px;--padding-md:10px 20px;--padding-sm:8px 16px}*{margin:0;padding:0;box-sizing:border-box;font-family:"Pretendard",sans-serif;font-weight:400}body,html{margin:0;padding:0;overflow:hidden;background:var(--bg-color);color:var(--text-color)}#app{position:relative;width:100vw;height:100vh}canvas{display:block;position:absolute;top:0;left:0;width:100%;height:100%;cursor:pointer}.guide-text{position:absolute;top:20px;left:50%;transform:translateX(-50%);font-size:var(--font-lg);font-weight:600;color:#555;z-index:1000;width:80%;max-width:400px;text-align:center}.help-text{position:absolute;top:70px;left:50%;transform:translateX(-50%);font-size:var(--font-sm);z-index:10;opacity:.8;color:#666;width:80%;max-width:400px;text-align:center}.falling-text{position:absolute;font-size:20px;pointer-events:none;transition:transform .5s linear,opacity .5s linear;writing-mode:vertical-lr;text-orientation:upright;letter-spacing:5px;padding:10px;display:flex;gap:20px;z-index:5}.korean{font-weight:600;transition:color .5s ease;color:#333}.custom-cursor{display:none}.controls{position:absolute;bottom:20px;left:50%;transform:translateX(-50%);display:flex;gap:15px;background:var(--panel-bg);padding:var(--padding-lg);border-radius:50px;backdrop-filter:blur(10px);z-index:10;width:auto;max-width:90%;flex-wrap:wrap;justify-content:center;border:1px solid rgba(0,0,0,0.2);box-shadow:none}.control-btn{background:transparent;border:1px solid rgba(0,0,0,0.2);color:var(--text-color);font-size:var(--font-sm);cursor:pointer;opacity:.6;transition:var(--transition);white-space:nowrap;border-radius:50px;padding:2px 7px}.control-btn.active{opacity:1;color:var(--primary-color);border-color:var(--primary-color)}.control-btn:hover{opacity:1}#colorPicker{appearance:none;width:30px;height:30px;border:1px solid rgba(0,0,0,0.2);background:0;cursor:pointer;border-radius:50%}#colorPicker::-webkit-color-swatch-wrapper{padding:0}#colorPicker::-webkit-color-swatch{border:0;border-radius:50%}.mode-toggle,.wave-info{position:absolute;left:50%;transform:translateX(-50%);background:var(--panel-bg);padding:var(--padding-md);border-radius:25px;font-size:var(--font-md);cursor:pointer;backdrop-filter:blur(10px);z-index:10;color:var(--text-color);width:auto;max-width:80%;text-align:center;white-space:nowrap;border:1px solid rgba(0,0,0,0.2);box-shadow:none}.mode-toggle{top:120px}.wave-info{top:20px}#home-button{position:fixed;left:20px;top:20px;z-index:1001;width:50px;height:50px;background:#fff;border:1px solid rgba(0,0,0,0.2);border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;box-shadow:none}#home-button:hover{transform:translateY(-1px)}#home-button svg{width:24px;height:24px;fill:#666;transition:all .2s ease}#home-button:hover svg{fill:#333}@media screen and (min-width:1920px){:root{--font-lg:20px;--font-md:16px;--font-sm:14px;--padding-lg:20px 30px;--padding-md:15px 25px;--padding-sm:12px 20px}.guide-text{top:30px;max-width:500px}.help-text{top:90px;max-width:500px}.mode-toggle{top:150px;max-width:70%}.falling-text{font-size:26px;letter-spacing:8px}.controls{bottom:40px;gap:20px}#colorPicker{width:35px;height:35px}}@media screen and (min-width:1680px) and (max-width:1919px){:root{--font-lg:18px;--font-md:15px;--font-sm:13px;--padding-lg:18px 28px;--padding-md:13px 23px;--padding-sm:10px 18px}.guide-text{top:25px;max-width:450px}.help-text{top:80px;max-width:450px}.mode-toggle{top:135px;max-width:75%}.falling-text{font-size:24px;letter-spacing:6px}.controls{bottom:30px;gap:18px}#colorPicker{width:33px;height:33px}}@media screen and (min-width:1366px) and (max-width:1679px){:root{--font-lg:17px;--font-md:14px;--font-sm:12px;--padding-lg:16px 26px;--padding-md:12px 22px;--padding-sm:9px 16px}.guide-text{top:20px;max-width:400px}.help-text{top:70px;max-width:400px}.mode-toggle{top:120px;max-width:80%}.falling-text{font-size:22px;letter-spacing:5px}.controls{bottom:25px;gap:16px}#colorPicker{width:32px;height:32px}}@media screen and (min-width:769px) and (max-width:1365px){:root{--font-lg:15px;--font-md:13px;--font-sm:11px;--padding-lg:14px 24px;--padding-md:10px 20px;--padding-sm:8px 14px}.guide-text{top:15px;width:85%;max-width:350px}.help-text{top:60px;width:85%;max-width:350px}.mode-toggle{top:105px;max-width:85%}.falling-text{font-size:18px;letter-spacing:4px}.controls{bottom:20px;gap:14px}#colorPicker{width:28px;height:28px}}@media screen and (min-width:481px) and (max-width:768px){:root{--font-lg:14px;--font-md:12px;--font-sm:10px;--padding-lg:12px 22px;--padding-md:9px 18px;--padding-sm:7px 14px}.guide-text{top:10px;width:90%;max-width:300px}.help-text{top:50px;width:90%;max-width:300px}.mode-toggle{top:90px;padding:var(--padding-sm);font-size:var(--font-sm);max-width:90%}.controls{padding:var(--padding-sm);gap:12px;bottom:15px}.control-btn{background:transparent;border:1px solid rgba(0,0,0,0.2);color:var(--text-color);font-size:var(--font-sm);cursor:pointer;opacity:.6;transition:var(--transition);white-space:nowrap;border-radius:50px;padding:2px 7px}#colorPicker{width:26px;height:26px}.falling-text{font-size:16px;letter-spacing:3px}#home-button{width:45px;height:45px;left:15px;top:15px}#home-button svg{width:22px;height:22px}}@media screen and (max-width:480px){:root{--font-lg:13px;--font-md:11px;--font-sm:9px;--padding-lg:10px 20px;--padding-md:8px 16px;--padding-sm:6px 12px}.guide-text{top:5px;width:95%;max-width:280px}.help-text{top:40px;width:95%;max-width:280px}.mode-toggle{top:75px;padding:var(--padding-sm);font-size:var(--font-sm);max-width:95%}.controls{padding:var(--padding-sm);gap:10px;bottom:10px}.control-btn{background:transparent;border:1px solid rgba(0,0,0,0.2);color:var(--text-color);font-size:var(--font-sm);cursor:pointer;opacity:.6;transition:var(--transition);white-space:nowrap;border-radius:50px;padding:2px 7px}#colorPicker{width:24px;height:24px}.falling-text{font-size:14px;letter-spacing:2px}#home-button{width:40px;height:30px;left:10px;top:10px}#home-button svg{width:20px;height:20px}}@media screen and (max-height:600px){.guide-text{top:5px}.help-text{top:35px}.mode-toggle{top:65px}.controls{bottom:5px}}@media screen and (max-height:480px){.guide-text{top:2px;font-size:12px}.help-text{top:25px;font-size:10px}.mode-toggle{top:45px;font-size:11px;padding:6px 14px}.controls{bottom:2px;padding:6px 16px}#home-button{width:35px;height:35px;left:5px;top:5px}#home-button svg{width:18px;height:18px}}</style>
</head>
<body>
<div id=home-button onclick=goHome()>
<svg viewBox="0 0 24 24">
<path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
</svg>
</div>
<div id=app>
<canvas id=waveCanvas></canvas>
<div class=custom-cursor id=customCursor></div>
<div class=guide-text id=textModeGuide>숫자 키(1~9)를 눌러 단어를 물 위에 흘려보내세요</div>
<div class=wave-info id=galleryModeGuide style=display:none>웨이브 타입: <span id=waveInfo>유기적</span></div>
<div class=help-text id=textModeHelp>단어가 떨어져 물결에 닿으면 작은 파동이 번져갑니다</div>
<div class=help-text id=galleryModeHelp style=display:none>←/→ 로 파동의 흐름을 바꾸고, 스페이스로 새로운 물결을 일으켜보세요. 마우스로 직접 흔들 수도 있습니다</div>
<div class=mode-toggle id=modeToggle>모드: 단어의 파동</div>
<div class=controls>
<input type=color id=colorPicker value=#0066cc>
<button class=control-btn id=waveTypeBtn>웨이브 타입</button>
<button class="control-btn active" id=interactiveBtn>인터랙션</button>
</div>
</div>
<script>function goHome(){try{if(window.location.protocol==='file:'){window.location.href='./index.html#list-section';}else{window.location.href='/index.html#list-section';}}catch(e){if(window.location.protocol==='file:'){window.location.href='./index.html';}else{window.location.href='/index.html';}}}
class CombinedWaveExperience{constructor(){this.canvas=document.getElementById('waveCanvas');this.ctx=this.canvas.getContext('2d');this.waveInfo=document.getElementById('waveInfo');this.colorPicker=document.getElementById('colorPicker');this.waveTypeBtn=document.getElementById('waveTypeBtn');this.interactiveBtn=document.getElementById('interactiveBtn');this.modeToggle=document.getElementById('modeToggle');this.setupCanvas();this.setupEventListeners();this.time=0;this.colors=['#0066cc','#E74C3C','#2ECC71','#3498DB','#F39C12','#6C5CE7','#FF8A5B','#27AE60','#9B59B6','#F39C12'];this.colorindex=0;this.fallingTexts=[];this.waves=[];this.isTextMode=true;this.updateModeToggleText();this.initializeWaveProperties();this.numberTexts={'1':{ko:'안녕하세요'},'2':{ko:'이 사이트는'},'3':{ko:'다양하고'},'4':{ko:'실험적인'},'5':{ko:'인터랙션과'},'6':{ko:'애니메이션을 보여주는'},'7':{ko:'반응형 웹사이트입니다.'},'8':{ko:'천천히 재미있게'},'9':{ko:'사이트를 즐겨주세요.'}};this.animate();}
setupCanvas(){this.resize();window.addEventListener('resize',()=>this.resize());}
resize(){const dpr=window.devicePixelRatio||1;this.canvas.width=window.innerWidth*dpr;this.canvas.height=window.innerHeight*dpr;this.ctx.setTransform(1,0,0,1,0,0);this.ctx.scale(dpr,dpr);this.centerY=window.innerHeight*0.5;this.middleY=this.centerY;this.colorChangeY=this.centerY-100;this.width=window.innerWidth;this.height=window.innerHeight;}
initializeWaveProperties(){this.waveTypes=[{name:'유기적',generate:(x,time,baseAmplitude)=>{const primaryWave=Math.sin(x*0.01+time*0.3);const secondaryWave=Math.sin(x*0.02-time*0.2)*0.5;const tertiaryWave=Math.sin(x*0.005+time*0.1)*0.25;return baseAmplitude*(primaryWave+secondaryWave+tertiaryWave);}},{name:'유동적',generate:(x,time,baseAmplitude)=>{const frequencyModulation=Math.sin(time*0.2)*0.1;return baseAmplitude*Math.sin(x*(0.015+frequencyModulation)+time*0.4+Math.sin(x*0.03)*0.5);}},{name:'난류',generate:(x,time,baseAmplitude)=>{const chaosFactor=Math.sin(time*0.3)*2;return baseAmplitude*(Math.sin(x*0.02+time*0.4)*Math.sin(x*0.01+chaosFactor)*(1+Math.sin(time*0.1)));}}];this.interactionPoints=[];this.currentWaveTypeindex=0;this.baseAmplitude=80;this.mouseInteraction={x:null,y:null,isActive:false,influence:0};this.isInteractive=true;}
setupEventListeners(){this.modeToggle.addEventListener('click',()=>{this.isTextMode=!this.isTextMode;this.updateModeToggleText();});this.canvas.addEventListener('mousemove',(e)=>{const rect=this.canvas.getBoundingClientRect();this.mouseX=e.clientX;this.mouseY=e.clientY;if(!this.isTextMode){this.mouseInteraction.x=e.clientX-rect.left;this.mouseInteraction.y=e.clientY-rect.top;if(this.mouseInteraction.isActive&&this.isInteractive){this.addInteractionPoint(this.mouseInteraction.x,this.mouseInteraction.y);}}});this.canvas.addEventListener('mousedown',()=>{if(!this.isTextMode&&this.isInteractive){this.mouseInteraction.isActive=true;}});this.canvas.addEventListener('mouseup',()=>{this.mouseInteraction.isActive=false;if(!this.isTextMode){this.interactionPoints=[];}});this.canvas.addEventListener('mouseleave',()=>{this.mouseX=null;this.mouseY=null;this.mouseInteraction.x=null;this.mouseInteraction.y=null;this.mouseInteraction.isActive=false;if(!this.isTextMode){this.interactionPoints=[];}});window.addEventListener('keydown',(e)=>{const key=e.key;if(this.numberTexts[key]){const textX=Math.random()*this.canvas.width;this.fallingTexts.push(this.createFallingText(this.numberTexts[key],textX));}
if(!this.isTextMode){switch(e.key){case'ArrowRight':case'ArrowLeft':this.cycleWaveType(e.key==='ArrowRight'?1:-1);break;case'ArrowUp':case'ArrowDown':this.toggleInteractiveMode();break;case' ':e.preventDefault();this.randomizeWave();break;}}});this.waveTypeBtn.addEventListener('click',()=>{if(this.isTextMode){this.cycleColor();}else{this.cycleWaveType(1);}});this.interactiveBtn.addEventListener('click',()=>this.toggleInteractiveMode());this.colorPicker.addEventListener('input',()=>{this.colorindex=this.colors.indexOf(this.colorPicker.value);if(this.colorindex===-1)this.colorindex=0;});}
updateModeToggleText(){this.modeToggle.textContent=`모드:${this.isTextMode?'단어의 파동':'물결의 흐름'}`;document.getElementById('textModeGuide').style.display=this.isTextMode?'block':'none';document.getElementById('galleryModeGuide').style.display=this.isTextMode?'none':'block';document.getElementById('textModeHelp').style.display=this.isTextMode?'block':'none';document.getElementById('galleryModeHelp').style.display=this.isTextMode?'none':'block';}
cycleWaveType(direction){this.currentWaveTypeindex=(this.currentWaveTypeindex+direction+this.waveTypes.length)%this.waveTypes.length;const currentWaveType=this.waveTypes[this.currentWaveTypeindex];this.waveInfo.textContent=currentWaveType.name;}
toggleInteractiveMode(){this.isInteractive=!this.isInteractive;this.interactiveBtn.classList.toggle('active',this.isInteractive);}
cycleColor(){this.colorindex=(this.colorindex+1)%this.colors.length;this.colorPicker.value=this.colors[this.colorindex];}
randomizeWave(){this.baseAmplitude=50+Math.random()*50;document.getElementById('galleryModeGuide').style.transform='translateX(-50%) scale(1.1)';setTimeout(()=>{document.getElementById('galleryModeGuide').style.transform='translateX(-50%) scale(1)';},200);}
addInteractionPoint(x,y){const newPoint={x:x,y:y,timestamp:Date.now(),intensity:Math.random()*0.5+0.5,decay:Math.random()*0.01+0.005};this.interactionPoints.push(newPoint);if(this.interactionPoints.length>20){this.interactionPoints.shift();}}
calculateWaveHeight(x,time){const currentWaveType=this.waveTypes[this.currentWaveTypeindex];let baseHeight=currentWaveType.generate(x,time,this.baseAmplitude);if(this.isInteractive){this.interactionPoints.forEach(point=>{const distance=Math.abs(x-point.x);const timeSinceCreation=(Date.now()-point.timestamp)/1000;const influence=point.intensity*Math.max(0,1-timeSinceCreation*point.decay)*Math.max(0,1-distance/200);baseHeight+=Math.sin(distance*0.1)*influence*30;});if(this.mouseInteraction.x!==null){const mouseDistance=Math.abs(x-this.mouseInteraction.x);const mouseInfluence=Math.max(0,1-mouseDistance/250);baseHeight+=Math.sin(this.time*2)*mouseInfluence*20;}}
return baseHeight;}
createFallingText(textObj,x){const textElement=document.createElement('div');textElement.className='falling-text';const koreanSpan=document.createElement('span');koreanSpan.className='korean';koreanSpan.textContent=textObj.ko;textElement.appendChild(koreanSpan);textElement.style.left=`${x}px`;textElement.style.top='0px';document.body.appendChild(textElement);const wobble=()=>{const wobbleAmount=2;textElement.style.transform=`translate(-50%,${textElement.offsetTop}px)translateX(${Math.sin(Date.now()/500)*wobbleAmount}px)`;requestAnimationFrame(wobble);};wobble();return{element:textElement,x:x,y:0,speed:3,colorChanged:false};}
updateFallingTexts(){this.fallingTexts.forEach((text,index)=>{text.y+=text.speed;text.element.style.top=`${text.y}px`;if(text.y>=this.colorChangeY&&!text.colorChanged){const koreanText=text.element.querySelector('.korean');koreanText.style.color='#000000';text.colorChanged=true;}
if(text.y>=this.centerY&&!text.waveCreated){this.generateWave(text.x);text.waveCreated=true;}
if(text.y>=this.centerY+50){text.element.style.opacity='0';setTimeout(()=>{if(text.element&&text.element.parentNode){text.element.remove();}},500);this.fallingTexts.splice(index,1);}});}
generateWave(x){const waveAmplitude=Math.random()*10+60;const waveFrequency=Math.random()*0.02+0.01;this.waves.push({amplitude:waveAmplitude,frequency:waveFrequency,offset:0,x:x,alpha:0,color:this.colorPicker.value});}
drawTextFallingMode(){this.ctx.clearRect(0,0,this.width,this.height);this.ctx.fillStyle='#FFFFFF';this.ctx.fillRect(0,0,this.width,this.height);const waterColor=this.colorPicker.value;const waterR=parseInt(waterColor.slice(1,3),16);const waterG=parseInt(waterColor.slice(3,5),16);const waterB=parseInt(waterColor.slice(5,7),16);this.ctx.fillStyle=`rgba(${waterR},${waterG},${waterB},0.2)`;this.ctx.fillRect(0,this.centerY,this.width,this.height-this.centerY);this.waves.forEach((wave)=>{const waveColor=wave.color||waterColor;const r=parseInt(waveColor.slice(1,3),16);const g=parseInt(waveColor.slice(3,5),16);const b=parseInt(waveColor.slice(5,7),16);this.ctx.fillStyle=`rgba(${r},${g},${b},${0.6-wave.alpha*0.6})`;this.ctx.beginPath();for(let x=0;x<this.width;x++){const distanceFromDrop=Math.abs(x-wave.x);const dynamicAmplitude=wave.amplitude*Math.sin(Date.now()*0.002+wave.offset)*Math.exp(-distanceFromDrop/500);const y=this.centerY+Math.sin(x*wave.frequency+wave.offset)*dynamicAmplitude;this.ctx.lineTo(x,y);}
this.ctx.lineTo(this.width,this.height);this.ctx.lineTo(0,this.height);this.ctx.closePath();this.ctx.fill();wave.offset+=0.05;wave.alpha+=0.005;});this.waves=this.waves.filter(wave=>wave.alpha<1);this.updateFallingTexts();}
drawGalleryMode(){this.ctx.clearRect(0,0,this.width,this.height);this.ctx.fillStyle='#FFFFFF';this.ctx.fillRect(0,0,this.width,this.height);this.ctx.beginPath();this.ctx.moveTo(0,this.centerY);const pixelStep=Math.max(1,Math.floor(this.width/1000));for(let x=0;x<this.width;x+=pixelStep){const y=this.centerY+this.calculateWaveHeight(x,this.time);this.ctx.lineTo(x,y);}
const waveColor=this.colorPicker.value;this.ctx.strokeStyle=waveColor;this.ctx.lineWidth=Math.max(2,Math.floor(this.width/640));this.ctx.stroke();}
animate(){this.time+=0.05;if(this.isTextMode){this.drawTextFallingMode();}else{this.interactionPoints=this.interactionPoints.filter(point=>(Date.now()-point.timestamp)/1000<2);this.drawGalleryMode();}
requestAnimationFrame(()=>this.animate());}}
document.addEventListener('DOMContentLoaded',()=>{new CombinedWaveExperience();});</script>
</body>
</html>
