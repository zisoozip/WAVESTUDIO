<!DOCTYPE html>
<html lang=ko>
<head>
<meta charset=UTF-8>
<meta name=viewport content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name=apple-mobile-web-app-capable content=yes>
<meta name=apple-mobile-web-app-status-bar-style content=black-translucent>
<meta name=apple-mobile-web-app-title content=TYPEWRITTEN>
<meta name=mobile-web-app-capable content=yes>
<meta name=theme-color content=#ffffff>
<title>통합 타이포그래피 애플리케이션</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Pretendard:wght@300;400;500;700&display=swap" rel=stylesheet>
<style>*{margin:0;padding:0;box-sizing:border-box}body{font-family:"Pretendard","Noto Sans KR",sans-serif;background-color:#fff;color:#000;height:100vh;overflow:hidden;padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);min-height:100vh;min-height:-webkit-fill-available}html{height:-webkit-fill-available}#home-button{position:fixed;left:20px;top:20px;z-index:2001;width:44px;height:44px;background:#fff;border:1px solid #ddd;border-radius:50%;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;box-shadow:0 2px 8px rgba(0,0,0,0.08)}#home-button:hover{background:#f8f9fa;border-color:#bbb;transform:translateY(-1px);box-shadow:0 4px 12px rgba(0,0,0,0.12)}#home-button svg{width:20px;height:20px;fill:#666;transition:all .2s ease}#home-button:hover svg{fill:#333}.tab-container{position:fixed;top:20px;left:50%;transform:translateX(-50%);display:flex;gap:8px;z-index:1000;padding:8px;background:rgba(255,255,255,0.95);border:1px solid #e8e9ea;border-radius:24px;backdrop-filter:blur(10px);box-shadow:0 2px 12px rgba(0,0,0,0.08)}.tab-button{padding:8px 16px;border:1px solid #e8e9ea;background-color:#fff;border-radius:20px;cursor:pointer;transition:all .2s ease;color:#666;font-weight:400;font-size:13px;letter-spacing:.5px}.tab-button:hover{background-color:#f8f9fa;border-color:#ddd;color:#333}.tab-button.active{background-color:#000;color:#fff;border-color:#000}.module{width:100%;height:100vh;position:absolute;top:0;left:0;opacity:0;pointer-events:none;transition:opacity .3s ease}.module.active{opacity:1;pointer-events:all}#text-drawing-module{background-color:#fff;cursor:url('image/mou.png') 12 12,url('./image/mou.png') 12 12,crosshair}#canvas{position:absolute;top:0;left:0;width:100%;height:100%}#controls{position:fixed;bottom:20px;left:20px;background-color:rgba(255,255,255,0.95);border:1px solid #e8e9ea;padding:16px;border-radius:12px;z-index:1000;backdrop-filter:blur(10px);box-shadow:0 4px 16px rgba(0,0,0,0.08)}#controls button{margin:3px;padding:8px 14px;cursor:pointer;border:1px solid #e8e9ea;border-radius:20px;background-color:#fff;color:#666;font-weight:400;font-size:12px;transition:all .2s ease}#controls button:hover{background-color:#f8f9fa;color:#333;border-color:#ddd}#controls button.active{background-color:#000;color:#fff;border-color:#000}.color-option{display:inline-block;width:20px;height:20px;margin:3px;border-radius:50%;cursor:pointer;border:1px solid #e8e9ea;transition:all .2s ease;box-shadow:0 1px 3px rgba(0,0,0,0.1)}.color-option:hover{transform:scale(1.05);box-shadow:0 2px 6px rgba(0,0,0,0.15)}.color-option.selected{border:2px solid #000;transform:scale(1.1)}#instructions{position:fixed;top:84px;left:50%;transform:translateX(-50%);background-color:rgba(255,255,255,0.95);border:1px solid #e8e9ea;padding:12px 20px;border-radius:20px;text-align:center;font-size:13px;z-index:1000;font-weight:400;color:#666;backdrop-filter:blur(10px);box-shadow:0 2px 8px rgba(0,0,0,0.08)}.separator{height:1px;background-color:#e8e9ea;margin:12px 0}.mode-btn{background-color:#fff;border:1px solid #e8e9ea;color:#666;transition:all .2s ease}.mode-btn:hover{background-color:#f8f9fa;border-color:#ddd;color:#333}.mode-btn.active{background-color:#000;color:#fff;border-color:#000}#playground-module{display:flex;justify-content:center;align-items:center;background-color:#fff}#app{text-align:center;user-select:none;position:relative;width:100%;max-width:800px;padding:20px}#text-container{font-size:8vw;font-weight:300;color:#000;cursor:grab;transition:all .3s ease;display:inline-block;position:relative;white-space:normal;word-break:keep-all;max-width:90%;will-change:transform;text-align:center;width:auto;word-wrap:break-word;overflow-wrap:break-word;line-height:1.2;padding:0 20px}#text-container:hover{transform:scale(1.01)}#text-container:active{cursor:grabbing}#playground-controls{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background-color:rgba(255,255,255,0.95);border:1px solid #e8e9ea;padding:12px 20px;border-radius:20px;display:flex;gap:12px;align-items:center;z-index:100;backdrop-filter:blur(10px);box-shadow:0 4px 16px rgba(0,0,0,0.08)}#playground-controls select,#textInput{padding:8px 12px;border:1px solid #e8e9ea;border-radius:8px;font-size:13px;background-color:#fff;color:#666;transition:all .2s ease}#playground-controls select:hover,#textInput:hover{background-color:#f8f9fa;border-color:#ddd;color:#333}#playground-controls select:focus,#textInput:focus{outline:0;border-color:#999;background-color:#fff}.particle{position:absolute;pointer-events:none;font-size:20px;opacity:0;z-index:-1;color:#000;animation:particleFloat 1.5s ease-out forwards}@keyframes particleFloat{0%{opacity:1;transform:scale(1) rotate(0deg)}100%{opacity:0;transform:scale(0.3) rotate(180deg) translateY(-100px)}}#color-picker{width:32px;height:28px;border:1px solid #e8e9ea;border-radius:6px;background:#fff;transition:all .2s ease;cursor:pointer}#color-picker:hover{transform:scale(1.02);border-color:#ddd}#mode-indicator{position:fixed;top:84px;left:50%;transform:translateX(-50%);color:#666;padding:8px 16px;font-size:13px;background-color:rgba(255,255,255,0.95);border:1px solid #e8e9ea;border-radius:20px;backdrop-filter:blur(10px);box-shadow:0 2px 8px rgba(0,0,0,0.08)}#help-text{position:fixed;bottom:88px;left:50%;transform:translateX(-50%);color:#666;padding:8px 16px;border-radius:16px;font-size:12px;opacity:.7;background-color:rgba(255,255,255,0.95);border:1px solid #e8e9ea;backdrop-filter:blur(10px);box-shadow:0 2px 8px rgba(0,0,0,0.06)}#typography-module{display:flex;justify-content:center;align-items:center;background-color:#fff;cursor:none}#container{width:100%;height:100%;position:relative}#sentences{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;margin:0;gap:0;padding:10vh 5vw 5vh 5vw;overflow-y:auto;scrollbar-width:none;-ms-overflow-style:none}#sentences::-webkit-scrollbar{display:none}.sentence{width:100%;text-align:center;font-weight:300;font-size:3vh;line-height:1.8;opacity:.25;transition:all .3s ease;white-space:normal;padding:0 15%;word-break:keep-all;overflow-wrap:break-word;color:#000;will-change:opacity,transform}.word{display:inline-block;position:relative;margin:0 .5vw;transition:all .3s ease;color:#000;will-change:transform}.word.active{transform:scale(1.2);font-weight:500;opacity:1}.word:hover{transform:scale(1.05) translateY(-2px);opacity:.7}.focused{opacity:.8;transform:translateX(0px)}#cursor{position:absolute;width:12px;height:12px;border-radius:50%;background-color:transparent;border:1px solid #666;pointer-events:none;transform:translate(-50%,-50%);z-index:1000;transition:all .2s ease}#cursor-dot{position:absolute;width:3px;height:3px;border-radius:50%;background-color:#666;pointer-events:none;transform:translate(-50%,-50%);z-index:1001}.letter{position:absolute;font-weight:300;pointer-events:none;transform-origin:center;opacity:0;color:#000;animation:letterFloat 1.5s ease-out forwards}@keyframes letterFloat{0%{transform:translateY(0) rotate(0deg) scale(1);opacity:1}20%{opacity:1;transform:translateY(-20px) rotate(10deg) scale(1.1)}100%{transform:translateY(-150px) rotate(45deg) scale(0.5);opacity:0}}.key-display{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:15vh;font-weight:200;color:#000;opacity:0;pointer-events:none;transition:all .3s ease}.wave{position:absolute;border:1px solid #666;border-radius:50%;transform:translate(-50%,-50%);pointer-events:none;opacity:0;animation:waveExpand 1.5s ease-out forwards}@keyframes waveExpand{0%{width:0;height:0;opacity:.4;border-width:1px}50%{opacity:.2;border-width:1px}100%{width:500px;height:500px;opacity:0;border-width:.5px}}#typing-area{position:fixed;width:80%;max-width:1000px;text-align:center;bottom:120px;left:50%;transform:translateX(-50%);font-size:24px;font-weight:300;z-index:10;opacity:0;transition:all .3s ease;padding:16px;border-radius:20px;white-space:normal;word-break:keep-all;overflow-wrap:break-word;line-height:1.5;min-height:56px;color:#000;background-color:rgba(255,255,255,0.95);border:1px solid #e8e9ea;backdrop-filter:blur(10px);box-shadow:0 4px 16px rgba(0,0,0,0.08)}.typing-instruction{position:fixed;bottom:60px;left:50%;transform:translateX(-50%);opacity:.6;font-size:13px;width:100%;text-align:center;padding:10px 0;z-index:9;color:#666}#hidden-input{position:fixed;opacity:0;pointer-events:none}@media screen and (max-width:768px){#home-button{width:40px;height:40px;left:15px;top:15px}#home-button svg{width:18px;height:18px}.tab-container{top:10px;gap:6px;padding:6px}.tab-button{padding:6px 12px;font-size:12px}#instructions{top:76px;font-size:12px;padding:8px 16px}#controls{bottom:10px;left:10px;padding:12px}#controls button{padding:6px 10px;font-size:11px;margin:2px}.color-option{width:18px;height:18px;margin:2px}#text-container{font-size:8vw}#playground-controls{bottom:10px;width:95%;padding:10px 16px;gap:8px}#playground-controls select,#textInput,#color-picker{padding:6px 10px;font-size:12px}#mode-indicator{top:76px;font-size:12px;padding:6px 12px}#help-text{bottom:78px;font-size:11px;padding:6px 12px}#sentences{padding:5vh 3vw}.sentence{font-size:2.5vh;padding:0 10%}#typing-area{width:90%;bottom:100px;font-size:20px;padding:12px;min-height:48px}.typing-instruction{bottom:40px;font-size:12px}.key-display{font-size:12vh}}@media screen and (max-width:480px){#home-button{width:36px;height:36px;left:10px;top:10px}#home-button svg{width:16px;height:16px}.tab-container{top:8px;gap:4px;padding:4px}.tab-button{padding:5px 10px;font-size:11px}#instructions{top:68px;font-size:11px;padding:6px 12px}#controls{bottom:8px;left:8px;padding:10px}#controls button{padding:5px 8px;font-size:10px;margin:1px}.color-option{width:16px;height:16px;margin:1px}#text-container{font-size:7vw}#playground-controls{flex-direction:column;align-items:center;bottom:8px;padding:8px 12px;gap:6px}#playground-controls select,#textInput,#color-picker{width:100%;margin-bottom:4px;padding:6px 10px;font-size:11px}#mode-indicator{top:68px;padding:5px 10px;font-size:11px}.sentence{font-size:2vh;padding:0 5%}#typing-area{font-size:16px;bottom:80px;padding:10px}.key-display{font-size:10vh}}</style>
</head>
<body>
<div id=home-button onclick=goHome()>
<svg viewBox="0 0 24 24">
<path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
</svg>
</div>
<div class=tab-container>
<button id=text-drawing-tab class="tab-button active">텍스트 드로잉</button>
<button id=typography-tab class=tab-button>인터랙티브 타이포그래피</button>
<button id=playground-tab class=tab-button>글자 놀이터</button>
</div>
<div id=text-drawing-module class="module active">
<div id=instructions>
키보드로 타이핑하면 마우스 방향을 따라 텍스트가 나타납니다
</div>
<div id=controls>
<div>
<button id=mode-minimal class="mode-btn active">Maximalism Mode</button>
<button id=mode-korean class=mode-btn>Minimalism mode</button>
</div>
<div class=separator></div>
<div>
<button id=clear-btn>모두 지우기</button>
<button id=font-size-up>A+</button>
<button id=font-size-down>A-</button>
</div>
<div class=separator></div>
<div>
<span style=font-size:11px;color:#666;font-weight:400>글자 색상:</span>
<div class="color-option selected" style=background-color:#000 data-color=#000000></div>
<div class=color-option style=background-color:#666 data-color=#666></div>
<div class=color-option style=background-color:#999 data-color=#999></div>
<div class=color-option style=background-color:#e74c3c data-color=#E74C3C></div>
<div class=color-option style=background-color:#3498db data-color=#3498DB></div>
</div>
</div>
<canvas id=canvas></canvas>
</div>
<div id=typography-module class=module>
<div id=container>
<div id=sentences></div>
<div id=cursor></div>
<div id=cursor-dot></div>
<div class=key-display></div>
<div id=typing-area></div>
<div class=typing-instruction>문장을 입력하고 Enter 키를 누르세요</div>
<input type=text id=hidden-input />
</div>
</div>
<div id=playground-module class=module>
<div id=mode-indicator>드래그 모드</div>
<div id=help-text>스페이스바: 모드 변경 | 방향키: 효과 강도 조절</div>
<div id=app>
<div id=text-container>안녕</div>
<div id=playground-controls>
<select id=morphMode>
<option value=drag>드래그</option>
<option value=wave>파동</option>
<option value=twist>비틀기</option>
<option value=shake>흔들기</option>
<option value=explode>폭발</option>
<option value=type>타이핑</option>
</select>
<input type=text id=textInput placeholder="글자 입력" value=안녕 maxlength=200>
<input type=color id=color-picker value=#000000>
</div>
</div>
</div>
<script>function goHome(){try{if(window.location.protocol==='file:'){window.location.href='./index.html#list-section';}else{window.location.href='/index.html#list-section';}}catch(e){if(window.location.protocol==='file:'){window.location.href='./index.html';}else{window.location.href='/index.html';}}}
const textDrawingTab=document.getElementById('text-drawing-tab');const typographyTab=document.getElementById('typography-tab');const playgroundTab=document.getElementById('playground-tab');const textDrawingModule=document.getElementById('text-drawing-module');const typographyModule=document.getElementById('typography-module');const playgroundModule=document.getElementById('playground-module');let textDrawingActive=true;let typographyActive=false;let playgroundActive=false;let globalHiddenInput=null;textDrawingTab.addEventListener('click',()=>{activateTextDrawing();});typographyTab.addEventListener('click',()=>{activateTypography();});playgroundTab.addEventListener('click',()=>{activatePlayground();});function activateTextDrawing(){if(!textDrawingActive){textDrawingTab.classList.add('active');typographyTab.classList.remove('active');playgroundTab.classList.remove('active');textDrawingModule.classList.add('active');typographyModule.classList.remove('active');playgroundModule.classList.remove('active');textDrawingActive=true;typographyActive=false;playgroundActive=false;document.body.style.cursor='crosshair';const textDrawingElement=document.getElementById('text-drawing-module');if(textDrawingElement){textDrawingElement.style.cursor="url('image/mou.png') 12 12, url('./image/mou.png') 12 12, url('../image/mou.png') 12 12, crosshair";}
if(currentMode==='korean'&&globalHiddenInput){globalHiddenInput.focus();}}}
function activateTypography(){if(!typographyActive){typographyTab.classList.add('active');textDrawingTab.classList.remove('active');playgroundTab.classList.remove('active');typographyModule.classList.add('active');textDrawingModule.classList.remove('active');playgroundModule.classList.remove('active');typographyActive=true;textDrawingActive=false;playgroundActive=false;document.body.style.cursor='none';if(hiddenInput){hiddenInput.focus();}}}
function activatePlayground(){if(!playgroundActive){playgroundTab.classList.add('active');textDrawingTab.classList.remove('active');typographyTab.classList.remove('active');playgroundModule.classList.add('active');textDrawingModule.classList.remove('active');typographyModule.classList.remove('active');playgroundActive=true;textDrawingActive=false;typographyActive=false;document.body.style.cursor='auto';if(currentMode==='drag'){document.body.style.cursor='grab';}}}
document.addEventListener('DOMContentLoaded',function(){const canvas=document.getElementById('canvas');const ctx=canvas.getContext('2d');let mouseX=canvas.width/2;let mouseY=canvas.height/2;let smoothMouseX=mouseX;let smoothMouseY=mouseY;let fontSize=24;let textColor='#000000';let currentText='';let composingText='';let isComposing=false;let currentMode='maximal';let mouseTrail=[];let drawnChars=[];const SMOOTHING_FACTOR=0.2;const TRAIL_MIN_DISTANCE=5;function resizeCanvas(){const hasValidSize=canvas.width>0&&canvas.height>0;let tempCanvas=null;let tempCtx=null;if(hasValidSize){tempCanvas=document.createElement('canvas');tempCanvas.width=canvas.width;tempCanvas.height=canvas.height;tempCtx=tempCanvas.getContext('2d');try{tempCtx.drawImage(canvas,0,0);}catch(e){tempCanvas=null;}}
const newWidth=window.innerWidth;const newHeight=window.innerHeight;if(newWidth>0&&newHeight>0){canvas.width=newWidth;canvas.height=newHeight;if(tempCanvas&&tempCanvas.width>0&&tempCanvas.height>0){try{ctx.drawImage(tempCanvas,0,0);}catch(e){}}
mouseX=newWidth/2;mouseY=newHeight/2;smoothMouseX=mouseX;smoothMouseY=mouseY;}}
resizeCanvas();window.addEventListener('resize',()=>{clearTimeout(window.resizeTimeout);window.resizeTimeout=setTimeout(resizeCanvas,100);});canvas.addEventListener('mousemove',function(e){const rect=canvas.getBoundingClientRect();mouseX=e.clientX-rect.left;mouseY=e.clientY-rect.top;});canvas.addEventListener('click',function(){if(currentMode==='maximal'&&textDrawingActive){hiddenInput.focus();}});function updateSmoothMouse(){smoothMouseX+=(mouseX-smoothMouseX)*SMOOTHING_FACTOR;smoothMouseY+=(mouseY-smoothMouseY)*SMOOTHING_FACTOR;if(mouseTrail.length===0||Math.hypot(smoothMouseX-mouseTrail[mouseTrail.length-1].x,smoothMouseY-mouseTrail[mouseTrail.length-1].y)>TRAIL_MIN_DISTANCE){mouseTrail.push({x:smoothMouseX,y:smoothMouseY,time:Date.now()});if(mouseTrail.length>500){mouseTrail.shift();}}}
const hiddenInput=document.createElement('input');globalHiddenInput=hiddenInput;hiddenInput.type='text';hiddenInput.style.position='absolute';hiddenInput.style.opacity='0';hiddenInput.style.pointerEvents='none';hiddenInput.style.left='-1000px';document.body.appendChild(hiddenInput);document.addEventListener('click',function(){if(currentMode==='maximal'&&textDrawingActive){hiddenInput.focus();}});window.addEventListener('load',function(){if(currentMode==='maximal'&&textDrawingActive){hiddenInput.focus();}});hiddenInput.addEventListener('compositionstart',function(e){if(currentMode!=='maximal'||!textDrawingActive)return;isComposing=true;composingText=e.data||'';});hiddenInput.addEventListener('compositionupdate',function(e){if(currentMode!=='maximal'||!textDrawingActive)return;composingText=e.data||'';});hiddenInput.addEventListener('compositionend',function(e){if(currentMode!=='maximal'||!textDrawingActive)return;isComposing=false;const newChar=e.data;currentText+=newChar;composingText='';hiddenInput.value='';addCharacter(newChar);});hiddenInput.addEventListener('input',function(e){if(currentMode!=='maximal'||!textDrawingActive)return;if(!isComposing&&e.data){currentText+=e.data;hiddenInput.value='';addCharacter(e.data);}});hiddenInput.addEventListener('keydown',function(e){if(currentMode!=='maximal'||!textDrawingActive)return;if(isComposing)return;if(e.key==='Backspace'){if(currentText.length>0){currentText=currentText.slice(0,-1);if(drawnChars.length>0){drawnChars.pop();}}
return;}
if(e.key==='Enter'){currentText='';drawnChars=[];mouseTrail=[];return;}
if(e.key.length===1&&!e.ctrlKey&&!e.altKey&&!e.metaKey){currentText+=e.key;addCharacter(e.key);}});function addCharacter(char){const position={x:smoothMouseX,y:smoothMouseY};let angle=0;if(mouseTrail.length>1){const lastPoint=mouseTrail[mouseTrail.length-1];const prevPoint=mouseTrail[mouseTrail.length-2];angle=Math.atan2(lastPoint.y-prevPoint.y,lastPoint.x-prevPoint.x);}
ctx.save();ctx.translate(position.x,position.y);ctx.rotate(angle);ctx.font=`${fontSize}px'Noto Sans KR',Helvetica,Arial,sans-serif`;ctx.fillStyle=textColor;ctx.globalAlpha=0.9;ctx.fillText(char,0,0);ctx.restore();drawnChars.push({char:char,x:position.x,y:position.y,angle:angle,scale:1,opacity:0.9,birthTime:Date.now()});}
function drawSmoothText(){if(currentText.length===0)return;for(let i=0;i<drawnChars.length;i++){const charIndex=Math.min(Math.floor((i/drawnChars.length)*mouseTrail.length),mouseTrail.length-1);if(charIndex>=0&&mouseTrail[charIndex]){const targetPos=mouseTrail[charIndex];const moveSpeed=0.08;drawnChars[i].x+=(targetPos.x-drawnChars[i].x)*moveSpeed;drawnChars[i].y+=(targetPos.y-drawnChars[i].y)*moveSpeed;if(charIndex>0){const prevPos=mouseTrail[charIndex-1];const targetAngle=Math.atan2(targetPos.y-prevPos.y,targetPos.x-prevPos.x);drawnChars[i].angle+=(targetAngle-drawnChars[i].angle)*0.1;}
const age=Date.now()-drawnChars[i].birthTime;const maxAge=30000;if(age>maxAge){drawnChars[i].opacity=Math.max(0,0.9-(age-maxAge)/10000);}}}
ctx.clearRect(0,0,canvas.width,canvas.height);drawnChars.forEach((charObj,index)=>{if(charObj.opacity<=0)return;ctx.save();ctx.translate(charObj.x,charObj.y);ctx.rotate(charObj.angle);ctx.scale(charObj.scale,charObj.scale);ctx.font=`${fontSize}px'Noto Sans KR',Helvetica,Arial,sans-serif`;ctx.fillStyle=textColor;ctx.globalAlpha=charObj.opacity;ctx.fillText(charObj.char,0,0);ctx.restore();});drawnChars=drawnChars.filter(char=>char.opacity>0);}
function drawPreview(){if(currentMode==='maximal'&&composingText){ctx.save();ctx.translate(smoothMouseX,smoothMouseY);ctx.font=`${fontSize}px'Noto Sans KR',Helvetica,Arial,sans-serif`;ctx.fillStyle='rgba(0, 0, 0, 0.5)';const pulse=Math.sin(Date.now()*0.01)*0.1+0.9;ctx.globalAlpha=pulse;ctx.fillText(composingText,0,0);ctx.restore();}}
document.getElementById('mode-korean').addEventListener('click',function(){currentMode='minimal';updateModeButtons();});document.getElementById('mode-minimal').addEventListener('click',function(){currentMode='maximal';updateModeButtons();hiddenInput.focus();});function updateModeButtons(){if(currentMode==='minimal'){document.getElementById('mode-korean').classList.add('active');document.getElementById('mode-minimal').classList.remove('active');document.getElementById('instructions').textContent='마우스를 움직이면서 타이핑하세요 (Minimalism mode)';}else{document.getElementById('mode-korean').classList.remove('active');document.getElementById('mode-minimal').classList.add('active');document.getElementById('instructions').textContent='마우스를 움직이면서 타이핑하세요 (Maximalism Mode)';}}
updateModeButtons();document.getElementById('font-size-up').addEventListener('click',function(){fontSize=Math.min(fontSize+4,48);if(currentMode==='maximal'){hiddenInput.focus();}});document.getElementById('font-size-down').addEventListener('click',function(){fontSize=Math.max(fontSize-4,12);if(currentMode==='maximal'){hiddenInput.focus();}});document.querySelectorAll('.color-option').forEach(option=>{option.addEventListener('click',function(){document.querySelector('.color-option.selected').classList.remove('selected');this.classList.add('selected');textColor=this.getAttribute('data-color');if(currentMode==='maximal'){hiddenInput.focus();}});});document.getElementById('clear-btn').addEventListener('click',function(){ctx.clearRect(0,0,canvas.width,canvas.height);currentText='';drawnChars=[];mouseTrail=[];if(currentMode==='maximal'){hiddenInput.focus();}});function animate(){updateSmoothMouse();drawSmoothText();drawPreview();requestAnimationFrame(animate);}
animate();});const textContainer=document.getElementById('text-container');const textInput=document.getElementById('textInput');const morphMode=document.getElementById('morphMode');const colorPicker=document.getElementById('color-picker');const app=document.getElementById('app');const modeIndicator=document.getElementById('mode-indicator');const helpText=document.getElementById('help-text');let isDragging=false;let startX,startY;let originalText='안녕';let pgMode='drag';let animationFrame;let particles=[];let lastTime=0;let intensity=10;const ANIMATION_THROTTLE=16;textInput.addEventListener('input',(e)=>{const newText=e.target.value||'안녕';textContainer.textContent=newText;originalText=newText;resetEffects();});colorPicker.addEventListener('input',(e)=>{textContainer.style.color=e.target.value;});document.addEventListener('keydown',(e)=>{if(!playgroundActive)return;if(e.code==='Space'){e.preventDefault();const modeOptions=morphMode.options;let nextIndex=(morphMode.selectedIndex+1)%modeOptions.length;morphMode.selectedIndex=nextIndex;morphMode.dispatchEvent(new Event('change'));helpText.style.opacity='0';setTimeout(()=>{helpText.style.opacity='0.7';},300);return;}
if(e.key.startsWith('Arrow')){e.preventDefault();switch(e.key){case'ArrowUp':intensity=Math.min(intensity+5,30);break;case'ArrowDown':intensity=Math.max(intensity-5,5);break;case'ArrowLeft':case'ArrowRight':break;}
modeIndicator.textContent=`${pgMode}모드(강도:${intensity})`;setTimeout(()=>{modeIndicator.textContent=`${pgMode}모드`;},1000);}
if(pgMode==='type'){if(e.key==='Backspace'){const currentText=textContainer.textContent;if(currentText.length>0){const newText=currentText.slice(0,-1);textContainer.textContent=newText;textInput.value=newText;originalText=newText;}}else if(e.key.length===1&&!e.ctrlKey&&!e.altKey&&!e.metaKey){const currentText=textContainer.textContent;const cursorPosition=Math.floor(currentText.length/2);const newText=currentText.slice(0,cursorPosition)+e.key+currentText.slice(cursorPosition);if(newText.length<=200){textContainer.textContent=newText;textInput.value=newText;originalText=newText;textContainer.style.transform='scale(1.05)';setTimeout(()=>{textContainer.style.transform='scale(1)';},100);}}}});textContainer.addEventListener('mousedown',(e)=>{if(!playgroundActive)return;if(pgMode==='drag'){isDragging=true;startX=e.clientX;startY=e.clientY;textContainer.style.transition='none';textContainer.style.cursor='grabbing';}else if(pgMode==='explode'){createParticles(e.clientX,e.clientY,intensity*10);textContainer.style.animation='none';setTimeout(()=>{textContainer.style.animation='none';},10);}});document.addEventListener('mousemove',(e)=>{if(!playgroundActive)return;if(isDragging&&pgMode==='drag'){const deltaX=e.clientX-startX;const deltaY=e.clientY-startY;const rotation=deltaX/15;textContainer.style.transform=`translate(${deltaX}px,${deltaY}px)rotate(${rotation}deg)`;}});document.addEventListener('mouseup',()=>{if(!playgroundActive)return;if(isDragging){isDragging=false;textContainer.style.transition='all 0.3s ease';textContainer.style.transform='none';textContainer.style.cursor='grab';}});morphMode.addEventListener('change',(e)=>{resetEffects();pgMode=e.target.value;modeIndicator.textContent=`${pgMode}모드`;if(pgMode==='drag'){document.body.style.cursor='grab';}else{document.body.style.cursor='auto';}
switch(pgMode){case'wave':case'twist':case'shake':startAnimation();break;}});function startAnimation(){cancelAnimationFrame(animationFrame);animateEffect();}
function animateEffect(timestamp=0){if(!playgroundActive){cancelAnimationFrame(animationFrame);return;}
if(timestamp-lastTime<ANIMATION_THROTTLE){animationFrame=requestAnimationFrame(animateEffect);return;}
lastTime=timestamp;if(pgMode==='wave'){applyWaveEffect();}else if(pgMode==='twist'){applyTwistEffect();}else if(pgMode==='shake'){applyShakeEffect();}
animationFrame=requestAnimationFrame(animateEffect);}
function applyWaveEffect(){const chars=originalText.split('');const now=Date.now()/300;textContainer.innerHTML=chars.map((char,i)=>{const offset=Math.sin(now+i*0.5)*intensity;const rotation=Math.sin(now+i*0.3)*2;return`<span style="display:inline-block;transform:translateY(${offset}px) rotate(${rotation}deg);transition:transform 0.1s ease;">${char}</span>`;}).join('');}
function applyTwistEffect(){const chars=originalText.split('');const now=Date.now()/300;textContainer.innerHTML=chars.map((char,i)=>{const rotation=Math.sin(now+i*0.8)*intensity*3;const scale=1+Math.sin(now+i*0.4)*0.1;return`<span style="display:inline-block;transform:rotate(${rotation}deg) scale(${scale});transition:transform 0.1s ease;">${char}</span>`;}).join('');}
function applyShakeEffect(){const chars=originalText.split('');textContainer.innerHTML=chars.map((char,i)=>{const offsetX=(Math.random()-0.5)*intensity;const offsetY=(Math.random()-0.5)*intensity;const rotation=(Math.random()-0.5)*10;return`<span style="display:inline-block;transform:translate(${offsetX}px, ${offsetY}px) rotate(${rotation}deg);">${char}</span>`;}).join('');}
function createParticles(x,y,radius){cleanupParticles();const count=Math.min(originalText.length*3,60);for(let i=0;i<count;i++){const particle=document.createElement('div');particle.classList.add('particle');const charIndex=Math.floor(Math.random()*originalText.length);particle.textContent=originalText[charIndex]||'안';particle.style.left=`${x}px`;particle.style.top=`${y}px`;particle.style.color=textContainer.style.color||'#000000';const angle=Math.random()*Math.PI*2;const distance=Math.random()*radius;const size=Math.random()*20+10;const rotation=Math.random()*360;particle.style.transition='all 1s ease';particle.style.fontSize=`${size}px`;particle.style.transform=`rotate(${rotation}deg)`;app.appendChild(particle);particles.push(particle);setTimeout(()=>{const finalX=Math.cos(angle)*distance;const finalY=Math.sin(angle)*distance;const finalRotation=rotation+180;particle.style.transform=`translate(${finalX}px,${finalY}px)rotate(${finalRotation}deg)`;particle.style.opacity='0.8';},10);setTimeout(()=>{particle.style.opacity='0';particle.style.transform=`${particle.style.transform}scale(0.3)`;},400);}
setTimeout(cleanupParticles,1200);}
function cleanupParticles(){particles.forEach(particle=>{if(particle.parentNode){particle.parentNode.removeChild(particle);}});particles=[];}
function resetEffects(){cancelAnimationFrame(animationFrame);cleanupParticles();textContainer.innerHTML=originalText;textContainer.style.transform='none';textContainer.style.transition='all 0.3s ease';textContainer.style.cursor=pgMode==='drag'?'grab':'auto';textContainer.style.animation='none';}
setTimeout(()=>{helpText.style.opacity='0.6';},3000);const container=document.getElementById('container');const sentencesContainer=document.getElementById('sentences');const cursor=document.getElementById('cursor');const cursorDot=document.getElementById('cursor-dot');const keyDisplay=document.querySelector('.key-display');const typingArea=document.getElementById('typing-area');const hiddenInput=document.getElementById('hidden-input');let typoMouseX=0;let typoMouseY=0;let typedText='';let activeSentenceIndex=null;const initialSentences=["단어들이 춤추는 디지털 공간에, 오신 것을 환영합니다","마우스를 클릭해 단어들과 상호작용해 보세요","클릭 한 번에 단어가 파동처럼 퍼져나갑니다","입력해보세요, 오직 당신만의 문장이 생성됩니다","타이포그래피는 소리 없는 목소리입니다","글자는 시간과 공간을 담는 그릇입니다","언어는 우리의 가장 오래된 인터페이스입니다","생각이 말로 흐르고, 말이 글로 영속됩니다","간결함 속에 담긴 깊은 의미를 찾아보세요","글자가 문장을 엮고, 문장이 이야기를 만듭니다","마음속 생각을 적어 보세요","글자와 함께하는 상호작용 체험"];function initTypography(){initialSentences.forEach(createSentence);document.addEventListener('mousemove',handleMouseMove);typographyModule.addEventListener('click',handleTypoClick);typographyModule.addEventListener('click',()=>{if(typographyActive){hiddenInput.focus();}});hiddenInput.addEventListener('input',handleInput);hiddenInput.addEventListener('keydown',handleKeyDown);document.addEventListener('touchmove',(e)=>{if(!typographyActive)return;const touch=e.touches[0];typoMouseX=touch.clientX;typoMouseY=touch.clientY;cursor.style.left=typoMouseX+'px';cursor.style.top=typoMouseY+'px';cursorDot.style.left=typoMouseX+'px';cursorDot.style.top=typoMouseY+'px';updateClosestSentence(typoMouseY);});setTimeout(()=>{const firstSentence=document.querySelector('.sentence');if(firstSentence){firstSentence.classList.add('focused');}},500);}
function createSentence(text){const sentenceElement=document.createElement('div');sentenceElement.className='sentence';const words=text.split(' ');words.forEach((word,index)=>{const wordElement=document.createElement('span');wordElement.className='word';wordElement.textContent=word;wordElement.addEventListener('mouseover',()=>{if(!typographyActive)return;wordElement.classList.add('active');const siblings=Array.from(wordElement.parentNode.children);const index=siblings.indexOf(wordElement);siblings.forEach((sibling,i)=>{if(Math.abs(i-index)<=2&&sibling!==wordElement){sibling.style.transform='scale(1.05) translateY(-2px)';sibling.style.opacity='0.7';}});});wordElement.addEventListener('mouseout',()=>{if(!typographyActive)return;wordElement.classList.remove('active');const siblings=Array.from(wordElement.parentNode.children);siblings.forEach(sibling=>{sibling.style.transform='';sibling.style.opacity='';});});wordElement.addEventListener('click',(e)=>{if(!typographyActive)return;e.stopPropagation();explodeWord(wordElement);hiddenInput.focus();});sentenceElement.appendChild(wordElement);if(index<words.length-1){sentenceElement.appendChild(document.createTextNode(' '));}});if(sentencesContainer.firstChild){sentencesContainer.insertBefore(sentenceElement,sentencesContainer.firstChild);}else{sentencesContainer.appendChild(sentenceElement);}
sentenceElement.style.opacity='0';sentenceElement.style.transform='translateY(-20px)';setTimeout(()=>{sentenceElement.style.transition='all 0.5s ease';sentenceElement.style.opacity='0.25';sentenceElement.style.transform='translateY(0)';},100);setTimeout(()=>{sentencesContainer.scrollTop=0;},100);}
function handleMouseMove(e){if(!typographyActive)return;typoMouseX=e.clientX;typoMouseY=e.clientY;cursor.style.left=typoMouseX+'px';cursor.style.top=typoMouseY+'px';cursorDot.style.left=typoMouseX+'px';cursorDot.style.top=typoMouseY+'px';updateClosestSentence(typoMouseY);}
function updateClosestSentence(mouseY){if(!typographyActive)return;const sentences=document.querySelectorAll('.sentence');let closestDist=Infinity;let closestIndex=null;sentences.forEach((sentence,index)=>{const rect=sentence.getBoundingClientRect();const centerY=rect.top+rect.height/2;const dist=Math.abs(mouseY-centerY);if(dist<closestDist){closestDist=dist;closestIndex=index;}});if(closestIndex!==null&&closestIndex!==activeSentenceIndex){sentences.forEach(s=>s.classList.remove('focused'));sentences[closestIndex].classList.add('focused');activeSentenceIndex=closestIndex;}}
function handleTypoClick(e){if(!typographyActive)return;createWave(e.clientX,e.clientY);cursor.style.width='20px';cursor.style.height='20px';cursor.style.borderWidth='2px';setTimeout(()=>{cursor.style.width='12px';cursor.style.height='12px';cursor.style.borderWidth='1px';},300);const activeSentence=document.querySelector('.sentence.focused');if(activeSentence){const words=activeSentence.querySelectorAll('.word');if(words.length>0){const randomWord=words[Math.floor(Math.random()*words.length)];explodeWord(randomWord);}}
hiddenInput.focus();}
function explodeWord(wordElement){if(!typographyActive)return;const rect=wordElement.getBoundingClientRect();const centerX=rect.left+rect.width/2;const centerY=rect.top+rect.height/2;const text=wordElement.textContent;for(let i=0;i<text.length;i++){const letter=text[i];setTimeout(()=>{createFloatingLetter(letter,centerX,centerY);},i*80);}
wordElement.style.transform='scale(1.3) rotate(2deg)';wordElement.style.opacity='1';wordElement.style.fontWeight='500';setTimeout(()=>{wordElement.style.transform='';wordElement.style.opacity='';wordElement.style.fontWeight='';},800);}
function createFloatingLetter(letter,x,y){if(!typographyActive)return;const element=document.createElement('div');element.className='letter';element.textContent=letter;const offsetX=(Math.random()-0.5)*80;const offsetY=(Math.random()-0.5)*80;element.style.left=`${x+offsetX}px`;element.style.top=`${y+offsetY}px`;element.style.fontSize=`${20+Math.random()*25}px`;element.style.fontWeight=Math.random()>0.5?'300':'500';const duration=0.8+Math.random()*1.0;const randomX=(Math.random()-0.5)*200;const randomY=-120-Math.random()*80;const randomRotation=(Math.random()-0.5)*60;element.style.animation=`letterFloat ${duration}s forwards`;element.style.transform=`translateX(${randomX}px)translateY(${randomY}px)rotate(${randomRotation}deg)`;container.appendChild(element);setTimeout(()=>{if(element.parentNode===container){container.removeChild(element);}},duration*1000);}
function createWave(x,y){if(!typographyActive)return;const wave=document.createElement('div');wave.className='wave';wave.style.left=`${x}px`;wave.style.top=`${y}px`;wave.style.animation='waveExpand 1.5s forwards';container.appendChild(wave);setTimeout(()=>{const wave2=document.createElement('div');wave2.className='wave';wave2.style.left=`${x}px`;wave2.style.top=`${y}px`;wave2.style.animation='waveExpand 2s forwards';wave2.style.borderColor='rgba(102, 102, 102, 0.3)';container.appendChild(wave2);setTimeout(()=>{if(wave2.parentNode===container){container.removeChild(wave2);}},2000);},300);setTimeout(()=>{if(wave.parentNode===container){container.removeChild(wave);}},1500);}
function handleInput(e){if(!typographyActive)return;typedText=hiddenInput.value;updateTypingArea();if(typedText.length>0){const lastChar=typedText[typedText.length-1];const randomX=Math.random()*window.innerWidth;const randomY=Math.random()*window.innerHeight;createFloatingLetter(lastChar,randomX,randomY);showKeyPress(lastChar);}}
function handleKeyDown(e){if(!typographyActive)return;if(e.key==='Enter'){if(typedText.trim()!==''){createSentence(typedText);typedText='';hiddenInput.value='';updateTypingArea();}
e.preventDefault();}}
function updateTypingArea(){typingArea.textContent=typedText;typingArea.style.opacity=typedText?'1':'0';if(typedText){typingArea.style.transform='translateX(-50%) scale(1.01)';}else{typingArea.style.transform='translateX(-50%) scale(1)';}
if(!typedText&&typographyActive){hiddenInput.focus();}}
function showKeyPress(key){keyDisplay.textContent=key;keyDisplay.style.opacity='1';keyDisplay.style.transform='translate(-50%, -50%) scale(1.02)';setTimeout(()=>{keyDisplay.style.opacity='0';keyDisplay.style.transform='translate(-50%, -50%) scale(0.98)';},300);}
sentencesContainer.addEventListener('wheel',function(e){if(!typographyActive)return;updateClosestSentence(typoMouseY);});function autoScrollSentences(){if(!typographyActive)return;const sentences=document.querySelectorAll('.sentence');if(sentences.length===0)return;let currentIndex=0;setInterval(()=>{if(!typographyActive)return;sentences.forEach(s=>s.classList.remove('focused'));if(sentences[currentIndex]){sentences[currentIndex].classList.add('focused');sentences[currentIndex].scrollIntoView({behavior:'smooth',block:'center'});}
currentIndex=(currentIndex+1)%sentences.length;},8000);}
document.addEventListener('DOMContentLoaded',function(){initTypography();if(textDrawingActive&&pgMode==='maximal'&&globalHiddenInput){globalHiddenInput.focus();}
textContainer.style.color='#000000';setTimeout(()=>{autoScrollSentences();},5000);});</script>
</body>
</html>